<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_80) on Mon Sep 15 12:41:28 EDT 2025 -->
<title>LunaKey (Luna Java Security Provider API)</title>
<meta name="date" content="2025-09-15">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LunaKey (Luna Java Security Provider API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Luna JSP</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../com/safenetinc/luna/provider/key/LunaKeyDh.html" title="class in com.safenetinc.luna.provider.key"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/safenetinc/luna/provider/key/LunaKey.html" target="_top">Frames</a></li>
<li><a href="LunaKey.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.safenetinc.luna.provider.key</div>
<h2 title="Class LunaKey" class="title">Class LunaKey</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.safenetinc.luna.provider.key.LunaKey</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Serializable, java.security.Key</dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../com/safenetinc/luna/provider/key/LunaKeyDh.html" title="class in com.safenetinc.luna.provider.key">LunaKeyDh</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaKeyDsa.html" title="class in com.safenetinc.luna.provider.key">LunaKeyDsa</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaKeyEC.html" title="class in com.safenetinc.luna.provider.key">LunaKeyEC</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaKeyRsa.html" title="class in com.safenetinc.luna.provider.key">LunaKeyRsa</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaPrivateKeyMLDSA.html" title="class in com.safenetinc.luna.provider.key">LunaPrivateKeyMLDSA</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaPrivateKeyMLKEM.html" title="class in com.safenetinc.luna.provider.key">LunaPrivateKeyMLKEM</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaPublicKeyMLDSA.html" title="class in com.safenetinc.luna.provider.key">LunaPublicKeyMLDSA</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaPublicKeyMLKEM.html" title="class in com.safenetinc.luna.provider.key">LunaPublicKeyMLKEM</a>, <a href="../../../../../com/safenetinc/luna/provider/key/LunaSecretKey.html" title="class in com.safenetinc.luna.provider.key">LunaSecretKey</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">LunaKey</span>
extends java.lang.Object
implements java.security.Key</pre>
<div class="block">The LunaKey class encapsulates all keys stored on Luna hardware.
 <p>
 LunaKey objects can be created through KeyGenerator and KeyPairGenerator objects making use of the "LunaProvider"
 provider. Alternately, they can be created to represent keys already stored on the hardware, using a KeyStore (type
 "Luna") or the LocateKeyByAlias() method.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../serialized-form.html#com.safenetinc.luna.provider.key.LunaKey">Serialized Form</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.security.spec.ECParameterSpec</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#ecParamSpec">ecParamSpec</a></strong></code>
<div class="block">Following properties are for EC Keys.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static java.util.Random</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#ivRandom">ivRandom</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static java.security.SecureRandom</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#ivSecureRandom">ivSecureRandom</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#keySize">keySize</a></strong></code>
<div class="block">Size of the token key, in bits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static <a href="../../../../../com/safenetinc/luna/LunaAPI.html" title="class in com.safenetinc.luna">LunaAPI</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#lapi">lapi</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#mAlgId">mAlgId</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#mKeyClass">mKeyClass</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#mKeyType">mKeyType</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#mObject">mObject</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#mParameterSet">mParameterSet</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#UNLIMITED_USE">UNLIMITED_USE</a></strong></code>
<div class="block">Use this value with <code>setUsageLimit</code> to enable usage counting for this key without actually asserting a
 limit on the use.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LunaKey()">LunaKey</a></strong>()</code>
<div class="block">Creates an uninitialized LunaKey object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LunaKey(int)">LunaKey</a></strong>(int&nbsp;hKey)</code>
<div class="block">Create a LunaKey object from the key stored in the default slot with the given handle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LunaKey(int,%20int)">LunaKey</a></strong>(int&nbsp;hKey,
       int&nbsp;slot)</code>
<div class="block">Create a LunaKey object from the key stored in the specified slot with the given handle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LunaKey(int,%20int,%20long,%20long)">LunaKey</a></strong>(int&nbsp;hKey,
       int&nbsp;slot,
       long&nbsp;keyClass,
       long&nbsp;keyType)</code>
<div class="block">Create a LunaKey object from the key stored in the specified slot with the given handle.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LunaKey(int,%20int,%20java.util.Map)">LunaKey</a></strong>(int&nbsp;hKey,
       int&nbsp;slot,
       java.util.Map&lt;java.lang.Long,java.lang.Object&gt;&nbsp;sessionParameters)</code>
<div class="block">Create a LunaKey object from the key stored in the specified slot with the given handle.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LunaKey(com.safenetinc.luna.LunaTokenObject)">LunaKey</a></strong>(<a href="../../../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a>&nbsp;object)</code>
<div class="block">Create a LunaKey object from the key stored on the Luna hardware.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#assign()">assign</a></strong>()</code>
<div class="block">Assigns this key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.math.BigInteger</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#AttributeToBigInteger(byte[])">AttributeToBigInteger</a></strong>(byte[]&nbsp;in)</code>
<div class="block">Turn an integer attribute (such as CKA_MODULUS) into a BigInteger.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#authorize(java.lang.String,%20boolean)">authorize</a></strong>(java.lang.String&nbsp;value,
         boolean&nbsp;override)</code>
<div class="block">Authorizes this key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#BigIntegerToAttribute(java.math.BigInteger)">BigIntegerToAttribute</a></strong>(java.math.BigInteger&nbsp;b)</code>
<div class="block">Converts a big integer into a byte array suitable for use as a token object attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#DestroyKey()">DestroyKey</a></strong>()</code>
<div class="block">Destroys the key completely, including removing it from the hardware.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#equals(java.lang.Object)">equals</a></strong>(java.lang.Object&nbsp;obj)</code>
<div class="block">Check for equivalence between this LunaKey object and the object that's passed in.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#generateRandomIv(int,%20boolean,%20boolean)">generateRandomIv</a></strong>(int&nbsp;length,
                boolean&nbsp;secure,
                boolean&nbsp;derEncode)</code>
<div class="block">Generate a new random IV.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getAlgorithm()">getAlgorithm</a></strong>()</code>
<div class="block">Returns a String representation of the key algorithm</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#GetAlias()">GetAlias</a></strong>()</code>
<div class="block">Returns the alias of the LunaKey object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../com/safenetinc/luna/LunaSession.html" title="class in com.safenetinc.luna">LunaSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getAuthorizedSession()">getAuthorizedSession</a></strong>()</code>
<div class="block">get the authorized session for this key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getBytesRemaining()">getBytesRemaining</a></strong>()</code>
<div class="block">Get the bytes remaining that can be encrypted by this key .</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Date</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#GetDateMadePersistent()">GetDateMadePersistent</a></strong>()</code>
<div class="block">Returns the date that the LunaKey was made persistent.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getEncoded()">getEncoded</a></strong>()</code>
<div class="block">Returns the encoded form of the LunaKey object.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getEncodedInternal()">getEncodedInternal</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#GetFingerprint()">GetFingerprint</a></strong>()</code>
<div class="block">Returns a fingerprint of an object (a byte array that contains a cryptographic hash of various attributes of the
 object).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getFormat()">getFormat</a></strong>()</code>
<div class="block">Returns the name of the format used to encode the LunaKey object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getKeyByType(com.safenetinc.luna.LunaTokenObject)">getKeyByType</a></strong>(<a href="../../../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a>&nbsp;tokenObj)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#GetKeyClass()">GetKeyClass</a></strong>()</code>
<div class="block">Returns the PKCS11 object class of the key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#GetKeyHandle()">GetKeyHandle</a></strong>()</code>
<div class="block">Returns the handle of the key stored in hardware.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getKeySize()">getKeySize</a></strong>()</code>
<div class="block">Returns the size of the key wrapped by this LunaKey, in bits.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getKeyType()">getKeyType</a></strong>()</code>
<div class="block">Returns the type of the key wrapped by this LunaKey.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#GetKeyType(java.lang.String)">GetKeyType</a></strong>(java.lang.String&nbsp;algorithm)</code>
<div class="block">Returns the key type identifier for the given algorithm</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>byte[]</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#GetOUID()">GetOUID</a></strong>()</code>
<div class="block">Returns the CKA_OUID of the key object in the HSM.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getParameterSet()">getParameterSet</a></strong>()</code>
<div class="block">Returns parameter set value for ML-KEM/ML-DSA key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../com/safenetinc/luna/LunaSession.html" title="class in com.safenetinc.luna">LunaSession</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getSession()">getSession</a></strong>()</code>
<div class="block">Returns a new LunaSession on same slot as this key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getSlot()">getSlot</a></strong>()</code>
<div class="block">Returns the slot the key is stored in.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getUsageCount()">getUsageCount</a></strong>()</code>
<div class="block">Get the number of times this key has been used.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#getUsageLimit()">getUsageLimit</a></strong>()</code>
<div class="block">Get the usage limit set on this on this key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#hashCode()">hashCode</a></strong>()</code>
<div class="block">Two Keys are considered equal if their encoded forms match, so we simply return the hash code of the encoded bytes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#incrementFailedAuthorizationCount()">incrementFailedAuthorizationCount</a></strong>()</code>
<div class="block">Increment the failed authorize attempt count for this key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#Initialize(int,%20int,%20long,%20long)">Initialize</a></strong>(int&nbsp;hKey,
          int&nbsp;slot,
          long&nbsp;keyClass,
          long&nbsp;keyType)</code>
<div class="block">Initialize a LunaKey object with the given data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#Initialize(int,%20int,%20java.util.Map)">Initialize</a></strong>(int&nbsp;hKey,
          int&nbsp;slot,
          java.util.Map&lt;java.lang.Long,java.lang.Object&gt;&nbsp;sessionParameters)</code>
<div class="block">Initialize a LunaKey object with the given data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#injectKey(byte[],%20long,%20long,%20int,%20boolean,%20boolean)">injectKey</a></strong>(byte[]&nbsp;keyBytes,
         long&nbsp;keyAlg,
         long&nbsp;keyType,
         int&nbsp;slot,
         boolean&nbsp;extractable,
         boolean&nbsp;derive)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.security.PrivateKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#InjectPrivateKey(byte[],%20long)">InjectPrivateKey</a></strong>(byte[]&nbsp;encodedKey,
                long&nbsp;algId)</code>
<div class="block">Injects the given encoded private key of the specified algorithm type into the token at the default slot.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.security.PrivateKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#InjectPrivateKey(byte[],%20long,%20int)">InjectPrivateKey</a></strong>(byte[]&nbsp;encodedKey,
                long&nbsp;algId,
                int&nbsp;slot)</code>
<div class="block">Injects the given encoded private key of the specified algorithm type into the token at the specified slot.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.security.PrivateKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#InjectPrivateKey(java.security.PrivateKey)">InjectPrivateKey</a></strong>(java.security.PrivateKey&nbsp;key)</code>
<div class="block">Inject (encrypt encoded key and unwrap) a non-Luna private key into the token at the default slot.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.security.PrivateKey</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#InjectPrivateKey(java.security.PrivateKey,%20int)">InjectPrivateKey</a></strong>(java.security.PrivateKey&nbsp;key,
                int&nbsp;slot)</code>
<div class="block">Inject (encrypt encoded key and unwrap) a non-Luna private key into the token at the specified slot.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#isInitialized()">isInitialized</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#IsKeyPersistent()">IsKeyPersistent</a></strong>()</code>
<div class="block">Returns a boolean indicating whether or not the given LunaKey object is persistent.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByAlias(java.lang.String)">LocateKeyByAlias</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Locate a persisted key on the default slot using the alias assigned when MakePersistant() was invoked.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByAlias(java.lang.String,%20int)">LocateKeyByAlias</a></strong>(java.lang.String&nbsp;alias,
                int&nbsp;slot)</code>
<div class="block">Locate a persisted key on the specified slot using the alias assigned when MakePersistant() was invoked.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByFingerprint(byte[])">LocateKeyByFingerprint</a></strong>(byte[]&nbsp;fingerprint)</code>
<div class="block">Locate a persisted key on the default slot using the key's fingerprint.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByFingerprint(byte[],%20int)">LocateKeyByFingerprint</a></strong>(byte[]&nbsp;fingerprint,
                      int&nbsp;slot)</code>
<div class="block">Locate a persisted key on the specified slot using the key's fingerprint.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByHandle(int)">LocateKeyByHandle</a></strong>(int&nbsp;handle)</code>
<div class="block">Locate a persisted key on the default slot using the handle assigned when MakePersistant() was invoked.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByHandle(int,%20int)">LocateKeyByHandle</a></strong>(int&nbsp;handle,
                 int&nbsp;slot)</code>
<div class="block">Locate a persisted key on the specified slot using the handle assigned when MakePersistent() was invoked.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByOUID(byte[])">LocateKeyByOUID</a></strong>(byte[]&nbsp;ouid)</code>
<div class="block">Locate a persisted key using the CKA_OUID attribute.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyByOUID(byte[],%20int)">LocateKeyByOUID</a></strong>(byte[]&nbsp;ouid,
               int&nbsp;slot)</code>
<div class="block">Locate a persisted key on the specified slot using the CKA_OUID attribute.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyOnlyByAlias(java.lang.String)">LocateKeyOnlyByAlias</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">Locate a persisted key on the default slot using the alias assigned when MakePersistant() was invoked.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#LocateKeyOnlyByAlias(java.lang.String,%20int)">LocateKeyOnlyByAlias</a></strong>(java.lang.String&nbsp;alias,
                    int&nbsp;slot)</code>
<div class="block">Locate a persisted key on the specified slot using the alias assigned when MakePersistant() was invoked.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#MakePersistent(java.lang.String)">MakePersistent</a></strong>(java.lang.String&nbsp;alias)</code>
<div class="block">The MakePersistent() method can be used to ensure that a key that has been generated will continue to exist from
 one instance of an application to another.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#release()">release</a></strong>()</code>
<div class="block">This method is used to signal to the Luna provider that an application is finished with a session (temporary)
 object on the HSM.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#resetAuthorizationData(java.lang.String)">resetAuthorizationData</a></strong>(java.lang.String&nbsp;newValue)</code>
<div class="block">Resets the auth data for this key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#resetAuthorizedSession()">resetAuthorizedSession</a></strong>()</code>
<div class="block">null out the authorized session for this key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#setAuthorizationData(java.lang.String,%20java.lang.String)">setAuthorizationData</a></strong>(java.lang.String&nbsp;oldValue,
                    java.lang.String&nbsp;newValue)</code>
<div class="block">Sets the auth data for this key from old value to new value.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#setKeySize()">setKeySize</a></strong>()</code>
<div class="block">Sets the size of the key we're wrapping, in bits.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#setUsageCount(int)">setUsageCount</a></strong>(int&nbsp;count)</code>
<div class="block">Set the usage count on this key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#setUsageLimit(int)">setUsageLimit</a></strong>(int&nbsp;limit)</code>
<div class="block">Set the usage limit on this key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#toString()">toString</a></strong>()</code>
<div class="block">Returns a string representation of the key object.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html#verifyClassAndType()">verifyClassAndType</a></strong>()</code>
<div class="block">Checks that the existing object handle being wrapped by this LunaKey objects has the key class and key type
 expected by the LunaKey subclass.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, finalize, getClass, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="lapi">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lapi</h4>
<pre>protected static final&nbsp;<a href="../../../../../com/safenetinc/luna/LunaAPI.html" title="class in com.safenetinc.luna">LunaAPI</a> lapi</pre>
</li>
</ul>
<a name="mObject">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mObject</h4>
<pre>protected transient&nbsp;<a href="../../../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a> mObject</pre>
</li>
</ul>
<a name="mKeyClass">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mKeyClass</h4>
<pre>protected&nbsp;long mKeyClass</pre>
</li>
</ul>
<a name="mKeyType">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mKeyType</h4>
<pre>protected&nbsp;long mKeyType</pre>
</li>
</ul>
<a name="keySize">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keySize</h4>
<pre>protected&nbsp;int keySize</pre>
<div class="block">Size of the token key, in bits. If 0, the key size is unknown</div>
</li>
</ul>
<a name="mParameterSet">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mParameterSet</h4>
<pre>protected&nbsp;long mParameterSet</pre>
</li>
</ul>
<a name="ecParamSpec">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ecParamSpec</h4>
<pre>protected&nbsp;java.security.spec.ECParameterSpec ecParamSpec</pre>
<div class="block">Following properties are for EC Keys. Ideally it should be in subclass
 but since LunaKey is not abstract, other functionality may rely on it.</div>
</li>
</ul>
<a name="mAlgId">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mAlgId</h4>
<pre>protected&nbsp;java.lang.String mAlgId</pre>
</li>
</ul>
<a name="ivRandom">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ivRandom</h4>
<pre>protected static&nbsp;java.util.Random ivRandom</pre>
</li>
</ul>
<a name="ivSecureRandom">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ivSecureRandom</h4>
<pre>protected static&nbsp;java.security.SecureRandom ivSecureRandom</pre>
</li>
</ul>
<a name="UNLIMITED_USE">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>UNLIMITED_USE</h4>
<pre>public static final&nbsp;int UNLIMITED_USE</pre>
<div class="block">Use this value with <code>setUsageLimit</code> to enable usage counting for this key without actually asserting a
 limit on the use. By default key usage is not counted.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../constant-values.html#com.safenetinc.luna.provider.key.LunaKey.UNLIMITED_USE">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LunaKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LunaKey</h4>
<pre>protected&nbsp;LunaKey()</pre>
<div class="block">Creates an uninitialized LunaKey object. This constructor does nothing, but cannot be removed as subclasses might
 depend on it. To initialize a LunaKey, use one of the other constructors or use one of the LocateKeyBy... factory
 methods</div>
</li>
</ul>
<a name="LunaKey(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LunaKey</h4>
<pre>public&nbsp;LunaKey(int&nbsp;hKey)</pre>
<div class="block">Create a LunaKey object from the key stored in the default slot with the given handle.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hKey</code> - The handle of the key stored in hardware.</dd></dl>
</li>
</ul>
<a name="LunaKey(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LunaKey</h4>
<pre>public&nbsp;LunaKey(int&nbsp;hKey,
       int&nbsp;slot)</pre>
<div class="block">Create a LunaKey object from the key stored in the specified slot with the given handle.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hKey</code> - The handle of the key stored in hardware.</dd><dd><code>slot</code> - The slot the key is stored in</dd></dl>
</li>
</ul>
<a name="LunaKey(int, int, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LunaKey</h4>
<pre>protected&nbsp;LunaKey(int&nbsp;hKey,
       int&nbsp;slot,
       long&nbsp;keyClass,
       long&nbsp;keyType)</pre>
<div class="block">Create a LunaKey object from the key stored in the specified slot with the given handle. This private constructor
 is used when the providers knows the key class and type already, and can avoid a dip down to the HSM to get that
 information.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hKey</code> - The handle of the key stored in hardware.</dd><dd><code>slot</code> - The slot the key is stored in</dd><dd><code>keyClass</code> - the PKCS class of the key</dd><dd><code>keyType</code> - the PKCS type of the key</dd></dl>
</li>
</ul>
<a name="LunaKey(int, int, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LunaKey</h4>
<pre>protected&nbsp;LunaKey(int&nbsp;hKey,
       int&nbsp;slot,
       java.util.Map&lt;java.lang.Long,java.lang.Object&gt;&nbsp;sessionParameters)</pre>
<div class="block">Create a LunaKey object from the key stored in the specified slot with the given handle. This private constructor
 is used when the providers knows the key class and type already, and can avoid a dip down to the HSM to get that
 information.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hKey</code> - The handle of the key stored in hardware.</dd><dd><code>slot</code> - The slot the key is stored in</dd><dd><code>sessionParameters</code> - session parameters which will avoid an attribute call to the hsm.</dd></dl>
</li>
</ul>
<a name="LunaKey(com.safenetinc.luna.LunaTokenObject)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LunaKey</h4>
<pre>public&nbsp;LunaKey(<a href="../../../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a>&nbsp;object)</pre>
<div class="block">Create a LunaKey object from the key stored on the Luna hardware.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>object</code> - The LunaTokenObject corresponding to the key in hardware.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="Initialize(int, int, long, long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Initialize</h4>
<pre>protected&nbsp;void&nbsp;Initialize(int&nbsp;hKey,
              int&nbsp;slot,
              long&nbsp;keyClass,
              long&nbsp;keyType)</pre>
<div class="block">Initialize a LunaKey object with the given data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hKey</code> - the key's handle on the HSM</dd><dd><code>slot</code> - the slot the key resides in</dd><dd><code>keyClass</code> - the PKCS class of the key</dd><dd><code>keyType</code> - the PKCS type of the key</dd></dl>
</li>
</ul>
<a name="Initialize(int, int, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Initialize</h4>
<pre>protected&nbsp;void&nbsp;Initialize(int&nbsp;hKey,
              int&nbsp;slot,
              java.util.Map&lt;java.lang.Long,java.lang.Object&gt;&nbsp;sessionParameters)</pre>
<div class="block">Initialize a LunaKey object with the given data.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>hKey</code> - the key's handle on the HSM</dd><dd><code>slot</code> - the slot the key resides in</dd><dd><code>sessionParameters</code> - the (session or token) indicator, PKCS class, type and length of the key</dd></dl>
</li>
</ul>
<a name="verifyClassAndType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>verifyClassAndType</h4>
<pre>protected&nbsp;void&nbsp;verifyClassAndType()</pre>
<div class="block">Checks that the existing object handle being wrapped by this LunaKey objects has the key class and key type
 expected by the LunaKey subclass.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - if there is a mismatch</dd></dl>
</li>
</ul>
<a name="setKeySize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setKeySize</h4>
<pre>protected&nbsp;void&nbsp;setKeySize()</pre>
<div class="block">Sets the size of the key we're wrapping, in bits. This method should be called when a LunaKey is initialized with a
 key token object.</div>
</li>
</ul>
<a name="getKeySize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeySize</h4>
<pre>public&nbsp;int&nbsp;getKeySize()</pre>
<div class="block">Returns the size of the key wrapped by this LunaKey, in bits.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The key size in bits</dd></dl>
</li>
</ul>
<a name="getParameterSet()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getParameterSet</h4>
<pre>public&nbsp;long&nbsp;getParameterSet()</pre>
<div class="block">Returns parameter set value for ML-KEM/ML-DSA key.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>CKA_PARAMETER_SET value</dd></dl>
</li>
</ul>
<a name="getKeyType()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyType</h4>
<pre>public&nbsp;long&nbsp;getKeyType()</pre>
<div class="block">Returns the type of the key wrapped by this LunaKey.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The key type</dd></dl>
</li>
</ul>
<a name="GetKeyHandle()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetKeyHandle</h4>
<pre>public&nbsp;int&nbsp;GetKeyHandle()</pre>
<div class="block">Returns the handle of the key stored in hardware.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the handle of the key in the HSM</dd></dl>
</li>
</ul>
<a name="isInitialized()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isInitialized</h4>
<pre>public&nbsp;boolean&nbsp;isInitialized()</pre>
</li>
</ul>
<a name="getSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSession</h4>
<pre>public&nbsp;<a href="../../../../../com/safenetinc/luna/LunaSession.html" title="class in com.safenetinc.luna">LunaSession</a>&nbsp;getSession()</pre>
<div class="block">Returns a new LunaSession on same slot as this key.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>A LunaSession that can access this key</dd></dl>
</li>
</ul>
<a name="getSlot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSlot</h4>
<pre>public&nbsp;int&nbsp;getSlot()</pre>
<div class="block">Returns the slot the key is stored in.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the slot number the key is stored in</dd></dl>
</li>
</ul>
<a name="GetFingerprint()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetFingerprint</h4>
<pre>public&nbsp;byte[]&nbsp;GetFingerprint()</pre>
<div class="block">Returns a fingerprint of an object (a byte array that contains a cryptographic hash of various attributes of the
 object). It is exceedingly unlikely that any two objects will share a fingerprint unless the objects are true
 duplicates of each other.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the fingerprint of the key object on the HSM</dd></dl>
</li>
</ul>
<a name="GetOUID()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetOUID</h4>
<pre>public&nbsp;byte[]&nbsp;GetOUID()</pre>
<div class="block">Returns the CKA_OUID of the key object in the HSM.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the OUID as a byte array</dd></dl>
</li>
</ul>
<a name="GetKeyClass()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetKeyClass</h4>
<pre>public&nbsp;long&nbsp;GetKeyClass()</pre>
<div class="block">Returns the PKCS11 object class of the key. This will indicate it is a public, private or secret key.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the PKCS11 object class of the key</dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns a string representation of the key object. This will consist of the handle, the PKCS11 object class, and
 the algorithm type of the key.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a String representation of the key object.</dd></dl>
</li>
</ul>
<a name="MakePersistent(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MakePersistent</h4>
<pre>public&nbsp;void&nbsp;MakePersistent(java.lang.String&nbsp;alias)</pre>
<div class="block">The MakePersistent() method can be used to ensure that a key that has been generated will continue to exist from
 one instance of an application to another. If a key is made persistent, it is associated with the given alias, and
 can be retrieved later using the LocateKeyByAlias static method.
 <p>
 The same alias can be assigned to both a public and a private key. If the same alias is assigned to two public or
 two private keys, an exception is thrown.
 <p>
 If a key is not made persistent after it is generated, it will disappear from the token when the application
 terminates.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias to assign to the key.</dd></dl>
</li>
</ul>
<a name="GetDateMadePersistent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetDateMadePersistent</h4>
<pre>public&nbsp;java.util.Date&nbsp;GetDateMadePersistent()</pre>
<div class="block">Returns the date that the LunaKey was made persistent.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the date that the LunaKey was made persistent</dd></dl>
</li>
</ul>
<a name="DestroyKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DestroyKey</h4>
<pre>public&nbsp;void&nbsp;DestroyKey()</pre>
<div class="block">Destroys the key completely, including removing it from the hardware.</div>
</li>
</ul>
<a name="getAlgorithm()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAlgorithm</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAlgorithm()</pre>
<div class="block">Returns a String representation of the key algorithm</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getAlgorithm</code>&nbsp;in interface&nbsp;<code>java.security.Key</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>a String representation of the key algorithm</dd></dl>
</li>
</ul>
<a name="getFormat()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFormat</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFormat()</pre>
<div class="block">Returns the name of the format used to encode the LunaKey object.
 <p>
 This will be one of
 <ul>
 <li><i>proprietary</i>: keys with sensitive information, where the LunaKey only contains a reference to the handle
 of the key; the actual key bytes can't be extracted for encoding</li>
 <li><i>X.509</i>: public keys</li>
 <li><i>RAW</i>: secret keys, if they're set to be extractable</li>
 </ul></div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getFormat</code>&nbsp;in interface&nbsp;<code>java.security.Key</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the format of the encoded key</dd></dl>
</li>
</ul>
<a name="getEncoded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncoded</h4>
<pre>public&nbsp;byte[]&nbsp;getEncoded()</pre>
<div class="block">Returns the encoded form of the LunaKey object. This key class does not allow its key data to be extracted from the
 HSM, so the encoded form will contain only the a reference to the key's handle on the HSM.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>getEncoded</code>&nbsp;in interface&nbsp;<code>java.security.Key</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>an 8-byte encoding of object's handle on the HSM. The first four bytes are always zero. The last 4 bytes
         are the integer handle encoded as a byte array</dd></dl>
</li>
</ul>
<a name="getEncodedInternal()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncodedInternal</h4>
<pre>protected&nbsp;byte[]&nbsp;getEncodedInternal()</pre>
</li>
</ul>
<a name="equals(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>equals</h4>
<pre>public&nbsp;boolean&nbsp;equals(java.lang.Object&nbsp;obj)</pre>
<div class="block">Check for equivalence between this LunaKey object and the object that's passed in.
 <p>
 This method compares the two keys by getting their encoded form, so it would compare this key's:
 <ol>
 <li>Field values if it's a public and or an extractable secret key (better)</li>
 <li>Encoded PKCS#11 handle if it's a private and or a non-extractable secret key (not so good but not much we can
 do about it)</li>
 </ol>
 <p>
 The second case, where we compare the encoded handle, would not work out when the comparison's done against a
 software key. Since we can't extract the field values from the hardware, there's no real solution to this problem.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>equals</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the keys are equal, as per the definition above</dd></dl>
</li>
</ul>
<a name="hashCode()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hashCode</h4>
<pre>public&nbsp;int&nbsp;hashCode()</pre>
<div class="block">Two Keys are considered equal if their encoded forms match, so we simply return the hash code of the encoded bytes.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>hashCode</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>the hash code of the encoded key</dd></dl>
</li>
</ul>
<a name="GetAlias()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetAlias</h4>
<pre>public&nbsp;java.lang.String&nbsp;GetAlias()</pre>
<div class="block">Returns the alias of the LunaKey object.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the alias of the LunaKey object</dd></dl>
</li>
</ul>
<a name="IsKeyPersistent()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>IsKeyPersistent</h4>
<pre>public&nbsp;boolean&nbsp;IsKeyPersistent()</pre>
<div class="block">Returns a boolean indicating whether or not the given LunaKey object is persistent.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if the key is persistent on the HSM</dd></dl>
</li>
</ul>
<a name="release()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre>public&nbsp;void&nbsp;release()</pre>
<div class="block">This method is used to signal to the Luna provider that an application is finished with a session (temporary)
 object on the HSM. The object on the HSM is *not* deleted. This method should be used when a process is finished
 with a session object that it did not create and does not explicitly want to delete. <i>This method should not be
 used under normal operation</i>. It is meant for situations like the following:
 <p>
 Two processes A and B share the same PKCS application id. Process A creates a session key. Process B can get a
 reference to this key by using the LunaKey(handle) constructor. When B is finished with the object it shouldn't
 delete it since A might still need it. It shouldn't let it just go out of scope either since when it gets GC'd, B's
 SessionObjectAuditor will delete the object on the HSM. B should call release() first on the key to avoid this
 latter situation.
 <p>
 <b>Programming note: sharing session objects across processes is not a standard use of the Luna provider and may
 cause strange behaviour unless you are very careful about what you are doing.</b> In almost all cases it is better
 to persist a key on the HSM with <code>MakePersistent()</code> before using it outside the originating process.</div>
</li>
</ul>
<a name="BigIntegerToAttribute(java.math.BigInteger)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BigIntegerToAttribute</h4>
<pre>public static&nbsp;byte[]&nbsp;BigIntegerToAttribute(java.math.BigInteger&nbsp;b)</pre>
<div class="block">Converts a big integer into a byte array suitable for use as a token object attribute.
 <p>
 Since BigIntegers are signed, they use the upper bit for the sign. If an unsigned value with the upper bit set is
 converted to a BigInteger, the BigInteger will have an extra zero added. This routine removes that extra zero if
 necessary.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>b</code> - the BigInteger to convert</dd>
<dt><span class="strong">Returns:</span></dt><dd>an encoded attribute form of <code>b</code></dd></dl>
</li>
</ul>
<a name="AttributeToBigInteger(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AttributeToBigInteger</h4>
<pre>public static&nbsp;java.math.BigInteger&nbsp;AttributeToBigInteger(byte[]&nbsp;in)</pre>
<div class="block">Turn an integer attribute (such as CKA_MODULUS) into a BigInteger. Sign conversions (attributes are unsigned while
 BigIntegers are signed) are handled by adding a leading zero if necessary.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>in</code> - the encoded attribute to convert</dd>
<dt><span class="strong">Returns:</span></dt><dd>a BigInteger representation of <code>in</code></dd></dl>
</li>
</ul>
<a name="GetKeyType(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>GetKeyType</h4>
<pre>public static&nbsp;long&nbsp;GetKeyType(java.lang.String&nbsp;algorithm)
                       throws java.security.ProviderException</pre>
<div class="block">Returns the key type identifier for the given algorithm</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>algorithm</code> - A string containing the name of the key algorithm</dd>
<dt><span class="strong">Returns:</span></dt><dd>An integer which identifies the algorithm type</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.ProviderException</code></dd></dl>
</li>
</ul>
<a name="InjectPrivateKey(byte[], long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>InjectPrivateKey</h4>
<pre>public static&nbsp;java.security.PrivateKey&nbsp;InjectPrivateKey(byte[]&nbsp;encodedKey,
                                        long&nbsp;algId)
                                                 throws java.security.InvalidKeyException</pre>
<div class="block">Injects the given encoded private key of the specified algorithm type into the token at the default slot. The key
 should be the entire pkcs8-encoded bytestream, wrapped as an octet string.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>encodedKey</code> - The PKCS-8 encoded private key</dd><dd><code>algId</code> - The algorithm type of the key</dd>
<dt><span class="strong">Returns:</span></dt><dd>The Luna PrivateKey object corresponding to the encoded key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.InvalidKeyException</code> - exception</dd></dl>
</li>
</ul>
<a name="InjectPrivateKey(byte[], long, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>InjectPrivateKey</h4>
<pre>public static&nbsp;java.security.PrivateKey&nbsp;InjectPrivateKey(byte[]&nbsp;encodedKey,
                                        long&nbsp;algId,
                                        int&nbsp;slot)
                                                 throws java.security.InvalidKeyException</pre>
<div class="block">Injects the given encoded private key of the specified algorithm type into the token at the specified slot. The key
 should be the entire pkcs8-encoded bytestream, wrapped as an octet string.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>encodedKey</code> - The PKCS-8 encoded private key</dd><dd><code>algId</code> - The algorithm type of the key</dd><dd><code>slot</code> - The slot of the token to inject the key into</dd>
<dt><span class="strong">Returns:</span></dt><dd>The Luna PrivateKey object corresponding to the encoded key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.InvalidKeyException</code> - exception</dd></dl>
</li>
</ul>
<a name="InjectPrivateKey(java.security.PrivateKey)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>InjectPrivateKey</h4>
<pre>public static&nbsp;java.security.PrivateKey&nbsp;InjectPrivateKey(java.security.PrivateKey&nbsp;key)
                                                 throws java.security.InvalidKeyException</pre>
<div class="block">Inject (encrypt encoded key and unwrap) a non-Luna private key into the token at the default slot.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The non-Luna key object</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding Luna private key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.InvalidKeyException</code> - exception</dd></dl>
</li>
</ul>
<a name="InjectPrivateKey(java.security.PrivateKey, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>InjectPrivateKey</h4>
<pre>public static&nbsp;java.security.PrivateKey&nbsp;InjectPrivateKey(java.security.PrivateKey&nbsp;key,
                                        int&nbsp;slot)
                                                 throws java.security.InvalidKeyException</pre>
<div class="block">Inject (encrypt encoded key and unwrap) a non-Luna private key into the token at the specified slot.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - The non-Luna key object</dd><dd><code>slot</code> - The slot of the token to inject the key into</dd>
<dt><span class="strong">Returns:</span></dt><dd>The corresponding Luna private key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.security.InvalidKeyException</code> - If the key is not encoded in PKCS8 format, or if it is an ECC key on an unsupported named curve</dd></dl>
</li>
</ul>
<a name="injectKey(byte[], long, long, int, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>injectKey</h4>
<pre>protected static&nbsp;int&nbsp;injectKey(byte[]&nbsp;keyBytes,
            long&nbsp;keyAlg,
            long&nbsp;keyType,
            int&nbsp;slot,
            boolean&nbsp;extractable,
            boolean&nbsp;derive)</pre>
</li>
</ul>
<a name="setUsageLimit(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUsageLimit</h4>
<pre>public&nbsp;boolean&nbsp;setUsageLimit(int&nbsp;limit)</pre>
<div class="block">Set the usage limit on this key. Once this key has been used for signing the specified number of times, any further
 operations using this key will return an exception.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>limit</code> - The maximum number of times this key may be used. This number cannot be less than zero.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the limit was set successfully, false otherwise</dd></dl>
</li>
</ul>
<a name="getUsageLimit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsageLimit</h4>
<pre>public&nbsp;int&nbsp;getUsageLimit()</pre>
<div class="block">Get the usage limit set on this on this key.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the usage limit set on this key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - if there is no limit set on this key</dd></dl>
</li>
</ul>
<a name="setUsageCount(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setUsageCount</h4>
<pre>public&nbsp;boolean&nbsp;setUsageCount(int&nbsp;count)</pre>
<div class="block">Set the usage count on this key. This can be useful if a key has been restored from backup and you need to increase
 the usage count to match the last know count of the formerly active key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>count</code> - The new usage count of the key. This number cannot be less than zero.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true if the count was set successfully, false otherwise</dd></dl>
</li>
</ul>
<a name="getUsageCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUsageCount</h4>
<pre>public&nbsp;int&nbsp;getUsageCount()</pre>
<div class="block">Get the number of times this key has been used.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the usage count of this key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - if the count isn't being tracked (i.e. there is no usage limit specified for this key)</dd></dl>
</li>
</ul>
<a name="getBytesRemaining()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBytesRemaining</h4>
<pre>public&nbsp;int&nbsp;getBytesRemaining()</pre>
<div class="block">Get the bytes remaining that can be encrypted by this key .</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the nbr of bytes that can be encrypted by this key</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../com/safenetinc/luna/exception/LunaException.html" title="class in com.safenetinc.luna.exception">LunaException</a></code> - if the count isn't being tracked (i.e. there is no FIPS restriction specified for this key)</dd></dl>
</li>
</ul>
<a name="LocateKeyByAlias(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByAlias</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByAlias(java.lang.String&nbsp;alias)</pre>
<div class="block">Locate a persisted key on the default slot using the alias assigned when MakePersistant() was invoked. This method
 will find public keys, private keys and secret keys.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the key to retrieve</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object, or null if nothing matched</dd></dl>
</li>
</ul>
<a name="LocateKeyByAlias(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByAlias</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByAlias(java.lang.String&nbsp;alias,
                       int&nbsp;slot)</pre>
<div class="block">Locate a persisted key on the specified slot using the alias assigned when MakePersistant() was invoked. This
 method will find public keys, private keys and secret keys.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the key to retrieve</dd><dd><code>slot</code> - The slot to search</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object, or null if nothing matched</dd></dl>
</li>
</ul>
<a name="LocateKeyByFingerprint(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByFingerprint</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByFingerprint(byte[]&nbsp;fingerprint)</pre>
<div class="block">Locate a persisted key on the default slot using the key's fingerprint.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fingerprint</code> - The fingerprint of the key to retrieve</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object, or null if nothing matched</dd></dl>
</li>
</ul>
<a name="LocateKeyByFingerprint(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByFingerprint</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByFingerprint(byte[]&nbsp;fingerprint,
                             int&nbsp;slot)</pre>
<div class="block">Locate a persisted key on the specified slot using the key's fingerprint.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>fingerprint</code> - The fingerprint of the key to retrieve</dd><dd><code>slot</code> - The slot to search</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object.</dd></dl>
</li>
</ul>
<a name="LocateKeyOnlyByAlias(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyOnlyByAlias</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyOnlyByAlias(java.lang.String&nbsp;alias)</pre>
<div class="block">Locate a persisted key on the default slot using the alias assigned when MakePersistant() was invoked. This method
 will find private keys and secret keys.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the key to retrieve</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object</dd></dl>
</li>
</ul>
<a name="LocateKeyOnlyByAlias(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyOnlyByAlias</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyOnlyByAlias(java.lang.String&nbsp;alias,
                           int&nbsp;slot)</pre>
<div class="block">Locate a persisted key on the specified slot using the alias assigned when MakePersistant() was invoked. This
 method will find private keys and secret keys.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias</code> - The alias of the key to retrieve</dd><dd><code>slot</code> - The slot to search</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object</dd></dl>
</li>
</ul>
<a name="LocateKeyByHandle(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByHandle</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByHandle(int&nbsp;handle)</pre>
<div class="block">Locate a persisted key on the default slot using the handle assigned when MakePersistant() was invoked.
 <p>
 This method should not be used to look up a session (non-persisted) key that was created by another Java process.
 Doing so may make the key unavailable at an unexpected time in this process or the originating process. If you need
 to share keys between processes, persist them first.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>handle</code> - The handle of the key to retrieve</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object</dd></dl>
</li>
</ul>
<a name="LocateKeyByHandle(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByHandle</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByHandle(int&nbsp;handle,
                        int&nbsp;slot)</pre>
<div class="block">Locate a persisted key on the specified slot using the handle assigned when MakePersistent() was invoked.
 <p>
 This method should not be used to look up a session (non-persisted) key that was created by another Java process.
 Doing so may make the key unavailable at an unexpected time in this process or the originating process. If you need
 to share keys between processes, persist them first.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>handle</code> - The handle of the key to retrieve</dd><dd><code>slot</code> - The slot to search</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object</dd></dl>
</li>
</ul>
<a name="LocateKeyByOUID(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByOUID</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByOUID(byte[]&nbsp;ouid)</pre>
<div class="block">Locate a persisted key using the CKA_OUID attribute.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ouid</code> - The OUID of the key to retrieve</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object</dd></dl>
</li>
</ul>
<a name="LocateKeyByOUID(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LocateKeyByOUID</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;LocateKeyByOUID(byte[]&nbsp;ouid,
                      int&nbsp;slot)</pre>
<div class="block">Locate a persisted key on the specified slot using the CKA_OUID attribute.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ouid</code> - The OUID of the key to retrieve</dd><dd><code>slot</code> - The slot to search</dd>
<dt><span class="strong">Returns:</span></dt><dd>Returns the key object</dd></dl>
</li>
</ul>
<a name="getKeyByType(com.safenetinc.luna.LunaTokenObject)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeyByType</h4>
<pre>public static&nbsp;<a href="../../../../../com/safenetinc/luna/provider/key/LunaKey.html" title="class in com.safenetinc.luna.provider.key">LunaKey</a>&nbsp;getKeyByType(<a href="../../../../../com/safenetinc/luna/LunaTokenObject.html" title="class in com.safenetinc.luna">LunaTokenObject</a>&nbsp;tokenObj)</pre>
</li>
</ul>
<a name="setAuthorizationData(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setAuthorizationData</h4>
<pre>public&nbsp;void&nbsp;setAuthorizationData(java.lang.String&nbsp;oldValue,
                        java.lang.String&nbsp;newValue)</pre>
<div class="block">Sets the auth data for this key from old value to new value.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>oldValue</code> - old auth data</dd><dd><code>newValue</code> - new auth data</dd></dl>
</li>
</ul>
<a name="resetAuthorizationData(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetAuthorizationData</h4>
<pre>public&nbsp;void&nbsp;resetAuthorizationData(java.lang.String&nbsp;newValue)</pre>
<div class="block">Resets the auth data for this key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>newValue</code> - new auth data</dd></dl>
</li>
</ul>
<a name="authorize(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>authorize</h4>
<pre>public&nbsp;void&nbsp;authorize(java.lang.String&nbsp;value,
             boolean&nbsp;override)</pre>
<div class="block">Authorizes this key.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>value</code> - auth data</dd><dd><code>override</code> - get a new session from the HSM regardless as to whether we've already got one</dd></dl>
</li>
</ul>
<a name="assign()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>assign</h4>
<pre>public&nbsp;void&nbsp;assign()</pre>
<div class="block">Assigns this key.</div>
</li>
</ul>
<a name="incrementFailedAuthorizationCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementFailedAuthorizationCount</h4>
<pre>public&nbsp;void&nbsp;incrementFailedAuthorizationCount()</pre>
<div class="block">Increment the failed authorize attempt count for this key.
 (mainly here for completeness as it's needed by HA)</div>
</li>
</ul>
<a name="getAuthorizedSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAuthorizedSession</h4>
<pre>public&nbsp;<a href="../../../../../com/safenetinc/luna/LunaSession.html" title="class in com.safenetinc.luna">LunaSession</a>&nbsp;getAuthorizedSession()</pre>
<div class="block">get the authorized session for this key.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the authorized session associated with this key</dd></dl>
</li>
</ul>
<a name="resetAuthorizedSession()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetAuthorizedSession</h4>
<pre>public&nbsp;void&nbsp;resetAuthorizedSession()</pre>
<div class="block">null out the authorized session for this key.</div>
</li>
</ul>
<a name="generateRandomIv(int, boolean, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>generateRandomIv</h4>
<pre>public static&nbsp;byte[]&nbsp;generateRandomIv(int&nbsp;length,
                      boolean&nbsp;secure,
                      boolean&nbsp;derEncode)</pre>
<div class="block">Generate a new random IV.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>length</code> - the length in bytes of the IV</dd><dd><code>secure</code> - if true use SecureRandom, otherwise Random</dd><dd><code>derEncode</code> - if true will prepend DER encoding bytes</dd>
<dt><span class="strong">Returns:</span></dt><dd>random IV byte array</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
<div class="aboutLanguage"><em><b>Luna JSP</b></em></div>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../com/safenetinc/luna/provider/key/LunaKeyDh.html" title="class in com.safenetinc.luna.provider.key"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?com/safenetinc/luna/provider/key/LunaKey.html" target="_top">Frames</a></li>
<li><a href="LunaKey.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><small>Copyright 2014-2018 SafeNet. All rights reserved.</small></small></p>
</body>
</html>
